<!DOCTYPE html>
<html xmlns:th = "http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>쇼핑몰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<script th:inline="javascript">
	var search_text = "test";
	function search_set(){
		search_text = document.getElementById('search-text').value;
	}
	
	function search_com(){
		location.href = `/items/search?search=${search_text}`;

	}
</script>
<style type="text/css">
	#menu{
		width:1800px;
		height:35px;
	}
	#menu ul li{
		background-color: #666;
		list-style: none;
		vertical-align:middle;
		text-align:center;
		width:150px;
		height:35px;
		line-height: 34.2px;
	}
	#menu .link{
		width:190px;
		text-decoration:none;
		display:block;
		color:#fff;
		font-weight:bold;
	}
	#menu .link:hover{
		background-color:#666;
		color:#ff42e7;
	}
	#log-wrapper>div>ul>li{
		float:right;
	}
	#menu-list>ul>li{
		float:left;
	}
	#title{
	text-align:center;
	}
	.log{
	text-align:right;
	}
	.list-wrapper{
		display:flex;
		flex-wrap:wrap;
		padding:15px;
		}
	.list{
		border:1px solid black;
		margin-left:6px;
		margin-right:6px;
		padding:0;
		font-size:14px;
	}
	.items-wrapper{
		width:calc(33.333%);
		padding: 0 11px;
		margin-bottom:20px;
		position:relative;
		margin:0;
	    list-style: none;

	}
	.item-wrapper{
		height:100%;
		padding-bottom:117px;
	}
	.item-picture{
		position:relative;
		width:410px;
		height: 410px;
		text-align: center;
		vertical-align: middle;
		
		
	}
	.item-picture>img{
		position:relative;
		width:410px;
		height: 410px;
		
	}
	.item-explain{
		left:0;
		margin:0;
		padding:0;
		width:433px;
		height:auto;
		border-top : 1px solid black;
	    text-align: center;
	    position: absolute;

		}
	a {
		color:black;
		text-decoration: none;
		
	}
	
	.item-click{
		z-index:15;
		position:absolute;
		display:inherit;
		width: 400px;
		height:400px;
		padding:10px;
		padding-bottom: 117px;
	}
	.search-wrapper{
		float: right;
		margin-right: 10px;
	}

	
</style>

</head>
<body>
<div id=title><h1>쇼핑몰!</h1></div>
<nav id=menu th:fragment="fragment-nav">
<div id="menu-list">
	<ul>
		<li><a th:href="@{/items(iType=0)}">전체상품</a></li>
		<li><a th:href="@{/items(iType=1)}">상의</a></li>
		<li><a th:href="@{/items(iType=2)}">하의</a></li>
		<li><a th:href="@{/items(iType=3)}">기타</a></li>
		<li><a href="/reviews">리뷰 게시판</a></li>
		<li><a href="/sales" th:if="${session.m_type > 2}">판매관리</a></li>
		
	</ul>
</div>
<div id="log-wrapper">
	<!-- 검색기능 -->
	<div class=log th:unless="${session.loginId==null}">	
		<ul>
			<li><a href="logout">로그아웃</a></li>
			<li><a href="myPage">내정보</a></li>
			
		</ul>
	</div>
	
		
	<div class=log th:if="${session.loginId==null}">
		<ul>
			<li><a href="loginForm">로그인</a></li>
			<li><a href="joinForm">회원가입</a></li>
<!-- 			<li><button onclick="search_com()">검색</button></li>
			<li><input onchange="search_set()" id="search-text" type="text" placeholder="검색어를 입력하세요" name="search"></li>
 -->		</ul>
	</div>
	<div class="search-wrapper">
		<input onchange="search_set()" id="search-text" type="text" placeholder="검색어를 입력하세요" name="search">
		<button onclick="search_com()">검색</button>
	</div>
	
</div>
</nav>
<div id="demo" class="carousel slide" data-ride="carousel">
  <ul class="carousel-indicators">
    <li data-target="#demo" data-slide-to="0" class="active"></li>
    <li data-target="#demo" data-slide-to="1"></li>
    <li data-target="#demo" data-slide-to="2"></li>
  </ul>
  <div class="carousel-inner">
    <div class="carousel-item active">
		<img src="../img/img1.png" alt="asd">
    </div>
    <div class="carousel-item">
      <img src="../img/img2.png" alt="Chicago">
    </div>
    <div class="carousel-item">
      <img src="../img/img3.png" alt="New York">
    </div>
  </div>

  <!-- Left and right controls -->
  <a class="carousel-control-prev" href="#demo" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </a>
  <a class="carousel-control-next" href="#demo" data-slide="next">
    <span class="carousel-control-next-icon"></span>
  </a>

</div>

<div class="list-wrapper">
	<ul class="list" th:each="i : ${itemlist}">
		<li class="items-wrapper">
			<a class="item-click" th:href="@{/items/read(iNum=${i.iNum})}" ></a>
			<div class="item-wrapper">
				<div class="item-picture" >
					<img th:src="@{${'../img/'+i.iImage+'.png'}}" alt=" ">
				</div>
				<div class="item-explain">
					<div class="item-name">
						<a th:text="${i.iName}"></a>
					</div>
					<div class="item-price">
						<a th:text="${i.iPrice}"></a>
					</div>
				</div>
			</div>
		</li>
	</ul>
</div>
<div>
	<a class="item-click" th:href="@{/items/read(iNum=${readcountbest.iNum})}" ></a>
			<div class="item-wrapper">
				<div class="item-picture" >
					<img th:src="@{${'../img/'+readcountbest.iImage+'.png'}}" alt=" ">
				</div>
				<div class="item-explain">
					<div class="item-name">
						<a th:text="${readcountbest.iName}"></a>
					</div>
					<div class="item-price">
						<a th:text="${readcountbest.iPrice}"></a>
					</div>
				</div>
			</div>
</div>


 </body>
</html>